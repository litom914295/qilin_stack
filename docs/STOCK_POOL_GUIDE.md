# 股票池选择使用指南

## 📊 概述

"一进二涨停板选股"策略支持两种股票池选择方式：
- 👉 **手动选择**：适合测试和特定股票分析
- 🤖 **智能选择**：自动获取今日涨停板股票（推荐用于实盘）

## 🎯 两种模式对比

| 特性 | 手动选择 | 智能选择 |
|-----|---------|---------|
| 适用场景 | 测试、学习、特定股票研究 | 实盘交易、批量分析 |
| 股票来源 | 手工挑选 | 自动从市场获取今日涨停板 |
| 数量 | 任意（1-50只） | 自动（实时涨停板数量）|
| 更新频率 | 手动 | 一键刷新 |
| 数据准确性 | 取决于手工选择 | 实时市场数据 |

## 🤖 智能选择（推荐）

### 功能说明

智能选择模式会自动：
1. **获取今日涨停板**：实时从市场获取所有涨停股票
2. **筛选过滤**：可设置数量上限（5-100只）
3. **一键刷新**：点击"🔄 刷新涨停板"按钮即可更新

### 使用步骤

1. **选择智能模式**
   ```
   选股方式 → 🤖 智能选择（自动获取今日涨停板）
   ```

2. **等待自动获取**
   - 系统自动调用 AKShare 获取今日涨停板数据
   - 显示涨停板数量和已选择股票数量

3. **调整数量（可选）**
   - 使用"限制数量"滑块控制股票数量
   - 建议：5-30只（训练速度快）
   - 可选：31-100只（数据更全面）

4. **查看选中的股票**
   - 点击"👁️ 查看已选择的 XX 只股票"展开查看

5. **设置时间范围**
   - 开始日期：建议往前推90天
   - 结束日期：通常选择今天

6. **构建数据集**
   - 点击"📦 构建数据集"按钮
   - 系统会自动获取所有选中股票的历史数据

### 涨停板数据说明

**数据来源**：AKShare → `stock_zt_pool_em()`

**包含信息**：
- 股票代码
- 股票名称
- 涨停时间
- 封单金额
- 首次涨停时间
- 最后涨停时间
- 打开次数
- 涨停统计

### 示例：典型工作流

```
1. 选择"智能选择"模式
2. 系统显示：今日有 85 只涨停板
3. 设置限制数量为 30 只
4. 选择时间范围：2025-08-01 至 2025-10-29
5. 点击"📦 构建数据集"
6. 系统自动获取 30 只股票的历史数据
7. 开始训练模型
```

## 👉 手动选择

### 适用场景

- **学习测试**：测试系统功能
- **特定股票**：研究特定行业或股票
- **小规模验证**：快速验证策略逻辑
- **离线环境**：无网络连接时使用

### 使用步骤

1. **选择手动模式**
   ```
   选股方式 → 👉 手动选择
   ```

2. **从下拉列表选择股票**
   - 系统提供常用股票列表
   - 可多选（按住 Ctrl 点击多个）

3. **设置时间范围**
   - 同智能模式

4. **构建数据集**
   - 点击"📦 构建数据集"

### 预设股票列表

| 代码 | 名称 | 板块 |
|------|------|------|
| 000001.SZ | 平安银行 | 银行 |
| 000002.SZ | 万科A | 地产 |
| 000333.SZ | 美的集团 | 家电 |
| 000858.SZ | 五粮液 | 白酒 |
| 600000.SH | 浦发银行 | 银行 |
| 600036.SH | 招商银行 | 银行 |
| 600519.SH | 贵州茅台 | 白酒 |
| 601318.SH | 中国平安 | 保险 |

## 🎯 "一进二"策略的股票选择建议

### 理想股票池特征

1. **活跃度高**
   - 日均成交额 > 1亿
   - 换手率 > 1%

2. **流动性好**
   - 有足够的买卖盘
   - 价差小于0.5%

3. **涨停板特征**
   - 封单强（封单金额/流通市值 > 2%）
   - 涨停早（10:30前）
   - 开板少（≤2次）

4. **行业分散**
   - 不要集中在单一板块
   - 分散行业风险

### 数量建议

| 场景 | 建议数量 | 原因 |
|-----|---------|------|
| 快速测试 | 5-10只 | 速度快，适合验证逻辑 |
| 日常训练 | 20-30只 | 平衡速度和准确性 |
| 完整训练 | 50-100只 | 数据全面，结果可靠 |
| 实盘运行 | 今日涨停板全部 | 不遗漏机会 |

### 时间范围建议

| 目标 | 建议时间范围 | 说明 |
|-----|-------------|------|
| 短期策略 | 30-60天 | 捕捉近期市场特征 |
| 中期策略 | 90-180天 | 平衡样本量和时效性 |
| 长期策略 | 180-365天 | 覆盖完整市场周期 |

## 🔄 数据更新频率

### 智能模式

- **交易日中**：每次点击"刷新涨停板"
- **建议频率**：
  - 开盘后30分钟：第一次刷新
  - 中午收盘前：第二次刷新
  - 下午2:30：最后一次刷新

### 手动模式

- 根据需要随时调整
- 建议每周更新一次股票列表

## ⚠️ 注意事项

### 1. 涨停板数量波动

- **正常范围**：20-100只/天
- **异常情况**：
  - < 10只：市场低迷，谨慎交易
  - > 150只：市场过热，注意风险

### 2. ST股票

智能模式会自动包含ST股票，建议：
- 手动过滤ST股票
- 或在训练后的结果中剔除

### 3. 新股涨停

- 新股上市前几天的涨停不适合"一进二"策略
- 建议过滤上市30天内的新股

### 4. 网络问题

如果获取涨停板失败：
- 检查网络连接
- 检查AKShare是否安装
- 尝试切换到手动模式

## 💡 最佳实践

### 实盘推荐流程

```
1. 每日9:30后，选择"智能选择"模式
2. 点击"刷新涨停板"获取实时数据
3. 设置限制数量为30-50只（根据计算资源）
4. 选择时间范围90天
5. 点击"构建数据集"
6. 训练模型
7. 生成T+1候选股票
8. 结合风险管理模块进行最终筛选
```

### 回测优化流程

```
1. 手动选择历史上涨停过的股票
2. 设置较长时间范围（180-365天）
3. 训练模型
4. 调整参数（TopN、阈值）
5. 评估历史回测效果
6. 确定最优参数后应用到实盘
```

## 🔍 常见问题

### Q1: 智能模式获取的股票太多怎么办？

**A**: 使用"限制数量"滑块控制，建议20-30只即可。

### Q2: 手动模式能否添加自定义股票？

**A**: 当前版本暂不支持。如需添加，请修改代码中的股票列表。

### Q3: 涨停板数据延迟多久？

**A**: AKShare数据延迟约3-5分钟，对于"一进二"策略（T+1）足够。

### Q4: 如何判断选择的股票池质量？

**A**: 
- 查看数据获取成功率（应 > 90%）
- 检查样本数量（每只股票应有足够数据点）
- 查看训练后的AUC指标（应 > 0.6）

## 📚 相关文档

- [AKShare使用指南](AKSHARE_GUIDE.md)
- [一进二策略说明](ONE_INTO_TWO_STRATEGY.md)
- [风险管理配置](RISK_MANAGEMENT.md)
