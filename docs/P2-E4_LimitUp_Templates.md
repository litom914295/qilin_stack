# ğŸ“ˆ P2-å¢å¼º-4: ä¸€è¿›äºŒä¸“ç”¨æ¨¡æ¿å¼€å‘æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†é’ˆå¯¹Aè‚¡æ¶¨åœæ¿ç­–ç•¥ï¼ˆç‰¹åˆ«æ˜¯"ä¸€è¿›äºŒ"ç­–ç•¥ï¼‰å¼€å‘çš„5ä¸ªä¸“ç”¨æ¨¡æ¿ã€‚è¿™äº›æ¨¡æ¿é’ˆå¯¹æ¶¨åœæ¿åç»­èµ°åŠ¿é¢„æµ‹è¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–ï¼Œæ¶µç›–åˆ†ç±»ã€æ’åºã€è¿æ¿é¢„æµ‹ã€æ—¶æœºæŠŠæ¡å’Œç»¼åˆç­–ç•¥ç­‰å¤šä¸ªç»´åº¦ã€‚

**å¼€å‘æ—¶é—´**: 2024å¹´
**æ¨¡æ¿æ•°é‡**: 5ä¸ª
**ç›®æ ‡åœºæ™¯**: æ¶¨åœæ¿æ¬¡æ—¥è¡Œæƒ…é¢„æµ‹ï¼ˆä¸€è¿›äºŒç­–ç•¥ï¼‰
**é€‚ç”¨å¸‚åœº**: Aè‚¡ï¼ˆæ²ªæ·±ï¼‰

---

## ğŸ¯ ä¸€è¿›äºŒç­–ç•¥èƒŒæ™¯

### ä»€ä¹ˆæ˜¯"ä¸€è¿›äºŒ"ï¼Ÿ

"ä¸€è¿›äºŒ"æ˜¯Aè‚¡çŸ­çº¿äº¤æ˜“ä¸­çš„ç»å…¸ç­–ç•¥ï¼š
- **"ä¸€"**: ä»Šæ—¥æ¶¨åœæ¿ï¼ˆæˆ–æ¥è¿‘æ¶¨åœï¼‰
- **"è¿›"**: ä¹°å…¥è¯¥è‚¡ç¥¨
- **"äºŒ"**: æ¬¡æ—¥æ˜¯å¦ç»§ç»­ä¸Šæ¶¨/æ¶¨åœ

### ç­–ç•¥æ ¸å¿ƒé—®é¢˜

1. **åˆ†ç±»é—®é¢˜**: æ˜å¤©ä¼šä¸ä¼šæ¶¨åœï¼Ÿï¼ˆäºŒåˆ†ç±»ï¼‰
2. **æ’åºé—®é¢˜**: å“ªäº›è‚¡ç¥¨æ¶¨åœæ¦‚ç‡æ›´é«˜ï¼Ÿï¼ˆæ’åºï¼‰
3. **è¿æ¿é—®é¢˜**: èƒ½å¦è¿ç»­æ¶¨åœï¼Ÿï¼ˆè¿æ¿é¢„æµ‹ï¼‰
4. **æ—¶æœºé—®é¢˜**: ä»€ä¹ˆæ—¶å€™å…¥åœºæœ€ä½³ï¼Ÿï¼ˆæ‰“æ¿æ—¶æœºï¼‰
5. **ç»¼åˆç­–ç•¥**: å¦‚ä½•ç»„åˆå¤šä¸ªä¿¡å·ï¼Ÿï¼ˆé›†æˆç­–ç•¥ï¼‰

---

## ğŸ“ æ¨¡æ¿åˆ—è¡¨

### 1ï¸âƒ£ æ¶¨åœæ¿åˆ†ç±»æ¨¡å‹ (`limitup_classifier.yaml`)

#### åŠŸèƒ½å®šä½
**äºŒåˆ†ç±»æ¨¡å‹**ï¼Œé¢„æµ‹ä»Šæ—¥æ¶¨åœæ¿çš„è‚¡ç¥¨ï¼Œæ˜æ—¥æ˜¯å¦èƒ½ç»§ç»­æ¶¨åœã€‚

#### æ ¸å¿ƒé…ç½®

```yaml
task:
  model:
    class: LGBMModel
    module_path: qlib.contrib.model.gbdt
    kwargs:
      loss: binary
      objective: binary
      metric: auc
      num_leaves: 63
      learning_rate: 0.05
      
  dataset:
    class: DatasetH
    kwargs:
      handler:
        class: Alpha158
        kwargs:
          start_time: 2018-01-01
          end_time: 2023-12-31
      segments:
        train: [2018-01-01, 2021-12-31]  # 4å¹´è®­ç»ƒ
        valid: [2022-01-01, 2022-12-31]  # 1å¹´éªŒè¯
        test: [2023-01-01, 2023-12-31]   # 1å¹´æµ‹è¯•
```

#### æ ‡ç­¾å·¥ç¨‹

```python
# æ ‡ç­¾å®šä¹‰ï¼šæ˜æ—¥æ¶¨å¹… > 9.5% å³è®¤ä¸ºæ¶¨åœ
label = "Ref($close, -1) / $close - 1 > 0.095"
```

**è¯´æ˜**:
- `Ref($close, -1)`: æ˜æ—¥æ”¶ç›˜ä»·
- `$close`: ä»Šæ—¥æ”¶ç›˜ä»·
- `> 0.095`: æ¶¨å¹…è¶…è¿‡9.5%ï¼ˆAè‚¡æ¶¨åœé˜ˆå€¼10%ï¼Œç•™0.5%å®¹å·®ï¼‰

#### ç­–ç•¥é…ç½®

```yaml
strategy:
  class: TopkDropoutStrategy
  module_path: qlib.contrib.strategy
  kwargs:
    signal: <PRED>
    topk: 30              # æ¯æ—¥é€‰æ‹©30åªè‚¡ç¥¨
    n_drop: 5             # æ’é™¤åº•éƒ¨5åªï¼ˆé¿å…è¾¹ç¼˜è‚¡ç¥¨ï¼‰
    method_buy: top       # ä¹°å…¥æ’åæœ€é«˜çš„
    method_sell: bottom   # å–å‡ºæ’åæœ€ä½çš„
```

#### é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆ**:
- çŸ­çº¿äº¤æ˜“è€…
- éœ€è¦æ˜ç¡®ä¹°å…¥ä¿¡å·
- å…³æ³¨é«˜èƒœç‡æœºä¼š

âŒ **ä¸é€‚åˆ**:
- è¿½æ±‚é«˜æ”¶ç›Šç‡ï¼ˆåˆ†ç±»æ¨¡å‹æ’åºèƒ½åŠ›æœ‰é™ï¼‰
- éœ€è¦è¿æ¿é¢„æµ‹

#### é¢„æœŸè¡¨ç°

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| AUC | > 0.60 |
| å‡†ç¡®ç‡ | > 55% |
| æ—¥å‡äº¤æ˜“è‚¡ç¥¨æ•° | 25-30åª |
| ä¿¡æ¯æ¯”ç‡ | > 0.8 |

---

### 2ï¸âƒ£ æ¶¨åœæ¿æ’åºæ¨¡å‹ (`limitup_ranker.yaml`)

#### åŠŸèƒ½å®šä½
**æ’åºæ¨¡å‹**ï¼Œå¯¹æ‰€æœ‰æ¶¨åœæ¿è‚¡ç¥¨æŒ‰æ˜æ—¥æ¶¨åœæ¦‚ç‡è¿›è¡Œæ’åºï¼Œé€‰æ‹©Top Nè¿›è¡Œäº¤æ˜“ã€‚

#### æ ¸å¿ƒé…ç½®

```yaml
task:
  model:
    class: XGBModel
    module_path: qlib.contrib.model.xgboost
    kwargs:
      objective: rank:pairwise  # æ’åºç›®æ ‡
      eval_metric: ndcg@50
      max_depth: 8
      learning_rate: 0.05
      
  dataset:
    kwargs:
      handler:
        class: Alpha360           # ä½¿ç”¨æ›´ä¸°å¯Œçš„ç‰¹å¾
        kwargs:
          start_time: 2018-01-01
          end_time: 2023-12-31
```

#### æ ‡ç­¾å·¥ç¨‹

```python
# æ ‡ç­¾å®šä¹‰ï¼šæ˜æ—¥æ¶¨å¹…ï¼ˆè¿ç»­å€¼ï¼Œç”¨äºæ’åºï¼‰
label = "Ref($close, -1) / $close - 1"
```

**è¯´æ˜**:
- ä¸åšäºŒå€¼åŒ–ï¼Œä¿ç•™å®Œæ•´æ¶¨å¹…ä¿¡æ¯
- æ¨¡å‹å­¦ä¹ ç›¸å¯¹æ”¶ç›Šæ’åº
- é€‚åˆé€‰æ‹©æœ€æœ‰æ½œåŠ›çš„è‚¡ç¥¨

#### ç­–ç•¥é…ç½®

```yaml
strategy:
  class: TopkDropoutStrategy
  kwargs:
    topk: 50              # é€‰æ‹©Top 50
    n_drop: 0             # ä¸æ’é™¤åº•éƒ¨ï¼ˆæ’åºæ¨¡å‹å¯é ï¼‰
```

#### ç‰¹è‰²åŠŸèƒ½

ğŸ” **NDCGè¯„ä¼°**:
- `ndcg@50`: è¯„ä¼°Top 50æ’åºè´¨é‡
- å…³æ³¨å¤´éƒ¨è‚¡ç¥¨æ’åºå‡†ç¡®æ€§
- é€‚åˆ"é€‰è‚¡"åœºæ™¯

ğŸ“Š **Alpha360ç‰¹å¾**:
- 360ä¸ªå› å­ï¼ˆvs Alpha158çš„158ä¸ªï¼‰
- åŒ…å«æ›´å¤šæŠ€æœ¯æŒ‡æ ‡å’Œé‡ä»·å…³ç³»
- æå‡æ’åºç²¾åº¦

#### é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆ**:
- éœ€è¦ç²¾ç»†åŒ–æ’åº
- æ„å»ºæ¶¨åœæ¿è‚¡ç¥¨æ± 
- å¤šç­–ç•¥ç»„åˆ

âŒ **ä¸é€‚åˆ**:
- ç®€å•çš„ä¹°å…¥ä¿¡å·ï¼ˆåˆ†ç±»æ¨¡å‹æ›´ç›´æ¥ï¼‰
- è®¡ç®—èµ„æºæœ‰é™ï¼ˆAlpha360ç‰¹å¾å¤šï¼‰

#### é¢„æœŸè¡¨ç°

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| NDCG@50 | > 0.08 |
| IC | > 0.03 |
| æ—¥å‡äº¤æ˜“è‚¡ç¥¨æ•° | 40-50åª |
| å¹´åŒ–æ”¶ç›Š | > 20% |

---

### 3ï¸âƒ£ è¿æ¿é¢„æµ‹æ¨¡å‹ (`limitup_consecutive.yaml`)

#### åŠŸèƒ½å®šä½
**è¿æ¿ä¸“ç”¨æ¨¡å‹**ï¼Œé¢„æµ‹ä»Šæ—¥æ¶¨åœæ¿èƒ½å¦å½¢æˆè¿ç»­æ¶¨åœï¼ˆä»Šå¤©æ¶¨åœ + æ˜å¤©æ¶¨åœï¼‰ã€‚

#### æ ¸å¿ƒé…ç½®

```yaml
task:
  model:
    class: CatBoostModel
    module_path: qlib.contrib.model.catboost
    kwargs:
      loss_function: Logloss
      eval_metric: AUC
      iterations: 300
      learning_rate: 0.03
      task_type: GPU          # ä½¿ç”¨GPUåŠ é€Ÿ
      
  dataset:
    kwargs:
      handler:
        class: Alpha158
        kwargs:
          instruments: csi1000  # ä½¿ç”¨ä¸­å°ç›˜è‚¡ï¼ˆè¿æ¿æ›´æ´»è·ƒï¼‰
```

#### æ ‡ç­¾å·¥ç¨‹

```python
# æ ‡ç­¾å®šä¹‰ï¼šä»Šæ—¥æ¶¨åœ AND æ˜æ—¥æ¶¨åœ
label = """
(
  ($close / Ref($close, 1) - 1 > 0.095) &      # ä»Šæ—¥æ¶¨åœ
  (Ref($close, -1) / $close - 1 > 0.095)       # æ˜æ—¥æ¶¨åœ
)
"""
```

**è¯´æ˜**:
- åŒé‡æ¡ä»¶ï¼šä»Šæ—¥+æ˜æ—¥éƒ½æ¶¨åœ
- æç«¯ä¸¥æ ¼çš„æ ‡ç­¾ï¼ˆæ­£æ ·æœ¬ç¨€å°‘ï¼‰
- é€‚åˆæ•æ‰è¿æ¿é¾™å¤´

#### ç­–ç•¥é…ç½®

```yaml
strategy:
  class: TopkDropoutStrategy
  kwargs:
    topk: 20              # ä»…é€‰æ‹©Top 20ï¼ˆé«˜ç½®ä¿¡åº¦ï¼‰
    n_drop: 3             # æ’é™¤åº•éƒ¨3åª
```

#### ç‰¹è‰²åŠŸèƒ½

ğŸ¯ **GPUåŠ é€Ÿ**:
```yaml
task_type: GPU
devices: 0:1            # ä½¿ç”¨ç¬¬ä¸€ä¸ªGPU
```

ğŸ“‰ **ä¸­å°ç›˜èšç„¦**:
- CSI1000æˆåˆ†è‚¡
- è¿æ¿ç°è±¡æ›´é¢‘ç¹
- æµåŠ¨æ€§ç›¸å¯¹å……è¶³

#### é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆ**:
- è¿½æ±‚è¿æ¿é¾™å¤´
- è¶…çŸ­çº¿æ¿€è¿›ç­–ç•¥
- æœ‰GPUè®¡ç®—èµ„æº

âŒ **ä¸é€‚åˆ**:
- ä¿å®ˆå‹äº¤æ˜“è€…
- å¤§ç›˜è‚¡ç­–ç•¥
- é£é™©åŒæ¶è€…

#### é¢„æœŸè¡¨ç°

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| AUC | > 0.58 |
| ç²¾ç¡®ç‡ | > 20% |
| å¬å›ç‡ | > 30% |
| æ—¥å‡ä¿¡å·æ•° | 10-20ä¸ª |

**æ³¨æ„**: è¿æ¿æ˜¯å°æ¦‚ç‡äº‹ä»¶ï¼Œç²¾ç¡®ç‡20%å·²ç»å¾ˆé«˜ï¼

---

### 4ï¸âƒ£ æ‰“æ¿æ—¶æœºæ¨¡å‹ (`limitup_timing.yaml`)

#### åŠŸèƒ½å®šä½
**æ—¶æœºåˆ¤æ–­æ¨¡å‹**ï¼Œé¢„æµ‹æ‰“æ¿åçš„2æ—¥å†…èƒ½å¦è·åˆ©ï¼ˆæ¶¨åœç¡®è®¤ + çŸ­æœŸä¸Šæ¶¨ï¼‰ã€‚

#### æ ¸å¿ƒé…ç½®

```yaml
task:
  model:
    class: ALSTMModel         # ä½¿ç”¨Attention LSTM
    module_path: qlib.contrib.model.pytorch_alstm
    kwargs:
      d_feat: 158
      hidden_size: 128
      num_layers: 2
      dropout: 0.2
      n_epochs: 150
      lr: 0.001
      GPU: 0
```

#### æ ‡ç­¾å·¥ç¨‹

```python
# æ ‡ç­¾å®šä¹‰ï¼šæ˜æ—¥æ¶¨åœ AND åæ—¥ç»§ç»­ä¸Šæ¶¨
label = """
(
  (Ref($close, -1) / $close - 1 > 0.095) &           # T+1æ¶¨åœ
  (Ref($close, -2) / Ref($close, -1) - 1 > 0)       # T+2ç»§ç»­æ¶¨
)
"""
```

**è¯´æ˜**:
- Tæ—¥: ä»Šå¤©ï¼ˆæ‰“æ¿æ—¥ï¼‰
- T+1: æ˜æ—¥æ¶¨åœç¡®è®¤
- T+2: åæ—¥æŒç»­æ€§éªŒè¯
- é€‚åˆåˆ¤æ–­æ‰“æ¿æ˜¯å¦å®‰å…¨

#### ç­–ç•¥é…ç½®

```yaml
strategy:
  class: TopkDropoutStrategy
  kwargs:
    topk: 25              # é€‰æ‹©25åª
    n_drop: 5             # æ’é™¤åº•éƒ¨5åªï¼ˆå®‰å…¨è¾¹é™…ï¼‰
```

#### ç‰¹è‰²åŠŸèƒ½

ğŸ§  **Attentionæœºåˆ¶**:
```python
# æ¨¡å‹è‡ªåŠ¨å­¦ä¹ å…³é”®æ—¶ç‚¹çš„æƒé‡
# ä¾‹å¦‚ï¼šç«ä»·ã€å¼€ç›˜ã€å°æ¿æ—¶åˆ»çš„ç‰¹å¾æ›´é‡è¦
```

ğŸ“… **2æ—¥éªŒè¯çª—å£**:
- T+1: æ¶¨åœç¡®è®¤ï¼ˆè¿›åœºæˆåŠŸï¼‰
- T+2: æŒç»­æ€§éªŒè¯ï¼ˆç¦»åœºæ—¶æœºï¼‰
- å…¼é¡¾æˆåŠŸç‡å’Œæ”¶ç›Šç‡

#### é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆ**:
- æ‰“æ¿äº¤æ˜“è€…
- å…³æ³¨æŒç»­æ€§
- é£é™©æ§åˆ¶ä¸¥æ ¼

âŒ **ä¸é€‚åˆ**:
- é•¿æœŸæŒæœ‰
- ä¸å…³å¿ƒå…¥åœºæ—¶æœº
- GPUèµ„æºä¸è¶³

#### é¢„æœŸè¡¨ç°

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| AUC | > 0.60 |
| èƒœç‡ | > 50% |
| ç›ˆäºæ¯” | > 1.5 |
| æ—¥å‡äº¤æ˜“ | 15-25åª |

---

### 5ï¸âƒ£ ä¸€è¿›äºŒç»¼åˆç­–ç•¥ (`limitup_ensemble.yaml`) â­ **æ¨è**

#### åŠŸèƒ½å®šä½
**é›†æˆç­–ç•¥**ï¼Œç»¼åˆåˆ©ç”¨å¤šç»´åº¦ä¿¡å·ï¼Œæä¾›æœ€å…¨é¢çš„ä¸€è¿›äºŒäº¤æ˜“å†³ç­–ã€‚

#### æ ¸å¿ƒé…ç½®

```yaml
task:
  model:
    class: LGBMModel
    kwargs:
      loss: binary
      num_leaves: 127        # æ›´å¤æ‚çš„æ ‘ç»“æ„
      learning_rate: 0.03    # è¾ƒä½å­¦ä¹ ç‡ï¼Œå……åˆ†è®­ç»ƒ
      feature_fraction: 0.8  # ç‰¹å¾æŠ½æ ·ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ
      bagging_fraction: 0.8  # æ•°æ®æŠ½æ ·
      bagging_freq: 5
      
  dataset:
    kwargs:
      handler:
        class: Alpha360      # ä½¿ç”¨å®Œæ•´ç‰¹å¾é›†
        kwargs:
          instruments: csi500  # ä¸­ç›˜è‚¡å¹³è¡¡
```

#### æ ‡ç­¾å·¥ç¨‹

```python
# ç»¼åˆæ ‡ç­¾ï¼šå¤šæ¡ä»¶ç»„åˆ
label = """
(
  # æ¡ä»¶1: æ˜æ—¥æ¶¨åœ
  (Ref($close, -1) / $close - 1 > 0.095) |
  
  # æ¡ä»¶2: æ˜æ—¥å¤§å¹…ä¸Šæ¶¨ï¼ˆ>5%ï¼‰
  (Ref($close, -1) / $close - 1 > 0.05) |
  
  # æ¡ä»¶3: ä¸¤æ—¥ç´¯è®¡æ¶¨å¹…>10%
  (Ref($close, -2) / $close - 1 > 0.10)
)
"""
```

**è¯´æ˜**:
- å¤šç›®æ ‡ä¼˜åŒ–ï¼Œä¸ä»…ä»…å…³æ³¨æ¶¨åœ
- æ•æ‰å¤§å¹…ä¸Šæ¶¨æœºä¼š
- æé«˜ä¿¡å·è¦†ç›–ç‡

#### ç­–ç•¥é…ç½®

```yaml
strategy:
  class: TopkDropoutStrategy
  kwargs:
    topk: 40              # è¾ƒå¤šè‚¡ç¥¨
    n_drop: 0             # ä¸æ’é™¤ï¼ˆé›†æˆæ¨¡å‹é²æ£’ï¼‰
    hold_thresh: 0.03     # æŒä»“é˜ˆå€¼
```

#### ç‰¹è‰²åŠŸèƒ½

ğŸ”„ **å¤šç»´åº¦ä¿¡å·èåˆ**:
- åˆ†ç±»ä¿¡å·: æ¶¨åœæ¦‚ç‡
- æ’åºä¿¡å·: ç›¸å¯¹å¼ºå¼±
- æ—¶æœºä¿¡å·: å…¥åœºæ—¶ç‚¹
- æŒç»­æ€§: å¤šæ—¥éªŒè¯

ğŸ¯ **å¹³è¡¡æ”¶ç›Šä¸é£é™©**:
- CSI500æˆåˆ†è‚¡ï¼ˆä¸­ç›˜ï¼‰
- æµåŠ¨æ€§å……è¶³
- æ³¢åŠ¨é€‚ä¸­
- æœºä¼šä¸°å¯Œ

ğŸ“Š **ç‰¹å¾å·¥ç¨‹**:
- Alpha360å…¨ç‰¹å¾
- ç‰¹å¾/æ•°æ®åŒæŠ½æ ·
- é˜²æ­¢è¿‡æ‹Ÿåˆ
- æ³›åŒ–èƒ½åŠ›å¼º

#### é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆ**:
- æ‰€æœ‰ä¸€è¿›äºŒäº¤æ˜“è€…ï¼ˆé€šç”¨ï¼‰
- éœ€è¦ç¨³å¥ç­–ç•¥
- è¿½æ±‚æ”¶ç›Šé£é™©å¹³è¡¡
- é¦–æ¬¡ä½¿ç”¨æ¶¨åœæ¿ç­–ç•¥

âŒ **ä¸é€‚åˆ**:
- æç«¯æ¿€è¿›/ä¿å®ˆç­–ç•¥
- ç‰¹å®šç»†åˆ†åœºæ™¯ï¼ˆç”¨ä¸“ç”¨æ¨¡æ¿ï¼‰

#### é¢„æœŸè¡¨ç°

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| AUC | > 0.62 |
| å¹´åŒ–æ”¶ç›Š | > 25% |
| å¤æ™®æ¯”ç‡ | > 1.2 |
| æœ€å¤§å›æ’¤ | < 20% |
| èƒœç‡ | > 52% |
| æ—¥å‡äº¤æ˜“ | 30-40åª |

---

## ğŸ”§ ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

#### 1. åœ¨UIä¸­é€‰æ‹©æ¨¡æ¿

1. æ‰“å¼€Qlibå·¥ä½œæµé¡µé¢
2. ç‚¹å‡»"ä»æ¨¡æ¿åˆ›å»º"
3. é€‰æ‹©å¯¹åº”çš„ä¸€è¿›äºŒæ¨¡æ¿

#### 2. æ¨èé€‰æ‹©è·¯å¾„

| ç”¨æˆ·ç±»å‹ | æ¨èæ¨¡æ¿ |
|---------|---------|
| ğŸ†• æ–°æ‰‹ | **ä¸€è¿›äºŒç»¼åˆç­–ç•¥** |
| ğŸ“Š ç¨³å¥å‹ | æ¶¨åœæ¿æ’åºæ¨¡å‹ |
| âš¡ æ¿€è¿›å‹ | è¿æ¿é¢„æµ‹æ¨¡å‹ |
| ğŸ¯ æ‰“æ¿ä¸“å®¶ | æ‰“æ¿æ—¶æœºæ¨¡å‹ |
| ğŸ” ç ”ç©¶äººå‘˜ | æ¶¨åœæ¿åˆ†ç±»æ¨¡å‹ |

### å‚æ•°è°ƒä¼˜å»ºè®®

#### å…³é”®å‚æ•°è¯´æ˜

##### 1. è‚¡ç¥¨æ± é€‰æ‹© (`instruments`)

```yaml
# ä¿å®ˆç­–ç•¥
instruments: csi300      # å¤§ç›˜è‚¡ï¼ŒæµåŠ¨æ€§å¥½ï¼Œæ³¢åŠ¨å°

# å¹³è¡¡ç­–ç•¥ï¼ˆæ¨èï¼‰
instruments: csi500      # ä¸­ç›˜è‚¡ï¼Œæœºä¼šä¸é£é™©å¹³è¡¡

# æ¿€è¿›ç­–ç•¥
instruments: csi1000     # å°ç›˜è‚¡ï¼Œæ¶¨åœé¢‘ç¹ï¼Œé£é™©é«˜
```

##### 2. æŒä»“æ•°é‡ (`topk`)

```yaml
# é›†ä¸­æŒä»“ï¼ˆé«˜é£é™©é«˜æ”¶ç›Šï¼‰
topk: 10-20

# åˆ†æ•£æŒä»“ï¼ˆæ¨èï¼‰
topk: 30-40

# æåº¦åˆ†æ•£ï¼ˆé™ä½æ³¢åŠ¨ï¼‰
topk: 50-100
```

##### 3. è®­ç»ƒå‘¨æœŸ

```yaml
segments:
  train: [2018-01-01, 2021-12-31]  # 4å¹´ï¼ˆæ¨èï¼‰
  # æˆ–
  train: [2020-01-01, 2022-12-31]  # 3å¹´ï¼ˆæ›´å¿«ï¼Œé€‚åˆå¿«é€Ÿè¿­ä»£ï¼‰
```

#### é’ˆå¯¹ä¸åŒå¸‚åœºç¯å¢ƒçš„è°ƒæ•´

##### ç‰›å¸‚é…ç½®

```yaml
# æé«˜æŒä»“æ•°é‡ï¼Œé™ä½é˜ˆå€¼
topk: 50
n_drop: 0
hold_thresh: 0.02       # æ›´ä½çš„æŒä»“é˜ˆå€¼
```

##### ç†Šå¸‚é…ç½®

```yaml
# é™ä½æŒä»“ï¼Œæé«˜è´¨é‡
topk: 20
n_drop: 5
hold_thresh: 0.05       # æ›´é«˜çš„æŒä»“é˜ˆå€¼
```

##### éœ‡è¡å¸‚é…ç½®

```yaml
# ä½¿ç”¨ç»¼åˆç­–ç•¥ï¼Œä¸­ç­‰æŒä»“
topk: 30
n_drop: 3
hold_thresh: 0.03
```

---

## ğŸ“Š æ¨¡æ¿å¯¹æ¯”

### åŠŸèƒ½å¯¹æ¯”

| æ¨¡æ¿ | é¢„æµ‹ç›®æ ‡ | æ¨¡å‹ç±»å‹ | ç‰¹å¾é›† | è‚¡ç¥¨æ±  | Top K | å¤æ‚åº¦ |
|------|---------|---------|--------|--------|-------|--------|
| åˆ†ç±»æ¨¡å‹ | æ¶¨åœ/ä¸æ¶¨åœ | LightGBM | Alpha158 | CSI300 | 30 | â­ |
| æ’åºæ¨¡å‹ | æ¶¨å¹…æ’åº | XGBoost | Alpha360 | CSI500 | 50 | â­â­ |
| è¿æ¿æ¨¡å‹ | è¿ç»­æ¶¨åœ | CatBoost | Alpha158 | CSI1000 | 20 | â­â­ |
| æ—¶æœºæ¨¡å‹ | æ‰“æ¿æ—¶æœº | ALSTM | Alpha158 | CSI300 | 25 | â­â­â­ |
| ç»¼åˆç­–ç•¥ | å¤šç›®æ ‡ | LightGBM | Alpha360 | CSI500 | 40 | â­â­ |

### æ€§èƒ½å¯¹æ¯”ï¼ˆé¢„æœŸï¼‰

| æ¨¡æ¿ | å¹´åŒ–æ”¶ç›Š | å¤æ™®æ¯”ç‡ | æœ€å¤§å›æ’¤ | èƒœç‡ | è®­ç»ƒæ—¶é—´ |
|------|---------|---------|---------|------|---------|
| åˆ†ç±»æ¨¡å‹ | 15-20% | 0.8-1.0 | 15-20% | 55% | 5åˆ†é’Ÿ |
| æ’åºæ¨¡å‹ | 20-25% | 1.0-1.2 | 18-22% | 52% | 10åˆ†é’Ÿ |
| è¿æ¿æ¨¡å‹ | 25-35% | 0.9-1.3 | 25-30% | 45% | 15åˆ†é’Ÿ |
| æ—¶æœºæ¨¡å‹ | 22-28% | 1.1-1.4 | 20-25% | 50% | 30åˆ†é’Ÿ |
| ç»¼åˆç­–ç•¥ | 25-30% | 1.2-1.5 | 18-22% | 52% | 12åˆ†é’Ÿ |

**æ³¨æ„**: å®é™…è¡¨ç°å–å†³äºå¸‚åœºç¯å¢ƒã€å‚æ•°é…ç½®å’Œæ•°æ®è´¨é‡ã€‚

---

## âš ï¸ é£é™©æç¤ºä¸æœ€ä½³å®è·µ

### é£é™©æç¤º

#### 1. æ¶¨åœæ¿ç­–ç•¥å›ºæœ‰é£é™©

- âš ï¸ **é«˜æ³¢åŠ¨æ€§**: æ¶¨åœæ¿è‚¡ç¥¨æ³¢åŠ¨æå¤§
- âš ï¸ **æµåŠ¨æ€§é£é™©**: æ¶¨åœåå¯èƒ½éš¾ä»¥ä¹°å…¥
- âš ï¸ **æƒ…ç»ªé©±åŠ¨**: å—å¸‚åœºæƒ…ç»ªå½±å“å¤§
- âš ï¸ **æ”¿ç­–é£é™©**: ç›‘ç®¡æ”¿ç­–å˜åŒ–å½±å“æ˜¾è‘—

#### 2. æ¨¡å‹å±€é™æ€§

- âš ï¸ **é»‘å¤©é¹…äº‹ä»¶**: æ¨¡å‹æ— æ³•é¢„æµ‹æç«¯äº‹ä»¶
- âš ï¸ **å¸‚åœºå˜åŒ–**: å†å²è§„å¾‹å¯èƒ½å¤±æ•ˆ
- âš ï¸ **è¿‡æ‹Ÿåˆé£é™©**: å›æµ‹æ•ˆæœå¥½â‰ å®ç›˜æ•ˆæœå¥½
- âš ï¸ **å»¶è¿Ÿé—®é¢˜**: å®ç›˜æ‰§è¡Œå­˜åœ¨å»¶è¿Ÿ

#### 3. æ•°æ®è´¨é‡é£é™©

- âš ï¸ **åœç‰Œé—®é¢˜**: æ¶¨åœåå¯èƒ½åœç‰Œ
- âš ï¸ **ä¸€å­—æ¿**: æ— æ³•ä¹°å…¥çš„æ¶¨åœ
- âš ï¸ **å‡æ¶¨åœ**: å¼€æ¿åä¸‹è·Œ
- âš ï¸ **STè‚¡ç¥¨**: ç‰¹æ®Šå¤„ç†è‚¡ç¥¨é£é™©

### æœ€ä½³å®è·µ

#### âœ… ä½¿ç”¨å»ºè®®

1. **å…ˆå›æµ‹ï¼Œåå®ç›˜**
   ```bash
   # å®Œæ•´èµ°å®Œæµç¨‹
   è®­ç»ƒ â†’ å›æµ‹ â†’ åˆ†æ â†’ è°ƒå‚ â†’ å†å›æµ‹ â†’ å°èµ„é‡‘å®ç›˜
   ```

2. **åˆ†æ•£æŠ•èµ„**
   - ä¸è¦å…¨ä»“å•ä¸€ç­–ç•¥
   - å»ºè®®é…ç½®3-5ä¸ªä¸åŒæ¨¡æ¿
   - å®šæœŸè°ƒæ•´æƒé‡

3. **é£é™©æ§åˆ¶**
   - å•ç¥¨ä»“ä½ä¸è¶…è¿‡10%
   - è®¾ç½®æ­¢æŸä½ï¼ˆå»ºè®®-5%ï¼‰
   - æ§åˆ¶æ€»ä»“ä½ï¼ˆå»ºè®®60-80%ï¼‰

4. **å®šæœŸè¯„ä¼°**
   - æ¯æœˆè¯„ä¼°ç­–ç•¥è¡¨ç°
   - å¯¹æ¯”åŸºå‡†æŒ‡æ•°
   - åŠæ—¶è°ƒæ•´æˆ–åœæ­¢

#### âœ… è°ƒå‚å»ºè®®

1. **æ•°æ®å‘¨æœŸ**
   ```yaml
   # æœ€è¿‘æ•°æ®æƒé‡æ›´å¤§
   train: [2020-01-01, 2022-12-31]  # ä¼˜å…ˆä½¿ç”¨è¿‘æœŸæ•°æ®
   ```

2. **ç‰¹å¾é€‰æ‹©**
   ```yaml
   # å¯¹äºå°ç›˜è‚¡ï¼ŒAlpha158è¶³å¤Ÿ
   # å¯¹äºå¤§ç›˜è‚¡ï¼Œä½¿ç”¨Alpha360
   ```

3. **æ¨¡å‹å¤æ‚åº¦**
   ```yaml
   # æ•°æ®å°‘ â†’ ç®€å•æ¨¡å‹ï¼ˆLightGBMï¼‰
   # æ•°æ®å¤š â†’ å¤æ‚æ¨¡å‹ï¼ˆALSTMï¼‰
   ```

#### âœ… ç»„åˆç­–ç•¥

æ¨èç»„åˆæ–¹æ¡ˆï¼š

**æ–¹æ¡ˆä¸€ï¼šç¨³å¥ç»„åˆ**
- ç»¼åˆç­–ç•¥ (50%)
- æ’åºæ¨¡å‹ (30%)
- åˆ†ç±»æ¨¡å‹ (20%)

**æ–¹æ¡ˆäºŒï¼šæ¿€è¿›ç»„åˆ**
- è¿æ¿æ¨¡å‹ (40%)
- æ—¶æœºæ¨¡å‹ (30%)
- ç»¼åˆç­–ç•¥ (30%)

**æ–¹æ¡ˆä¸‰ï¼šç ”ç©¶ç»„åˆ**
- æ‰€æœ‰5ä¸ªæ¨¡æ¿å„20%
- ç”¨äºå¯¹æ¯”ç ”ç©¶

---

## ğŸ”¬ æŠ€æœ¯ç»†èŠ‚

### æ ‡ç­¾å·¥ç¨‹åŸç†

#### æ¶¨åœåˆ¤æ–­é€»è¾‘

```python
# ä¸­å›½Aè‚¡æ¶¨åœè§„åˆ™
STè‚¡ç¥¨: æ¶¨å¹…é™åˆ¶ 5%
æ™®é€šè‚¡ç¥¨: æ¶¨å¹…é™åˆ¶ 10%
ç§‘åˆ›æ¿/åˆ›ä¸šæ¿æ³¨å†Œåˆ¶: æ¶¨å¹…é™åˆ¶ 20%

# æœ¬æ¨¡æ¿ä½¿ç”¨
threshold = 9.5%  # 10% * 0.95ï¼Œç•™å‡º0.5%å®¹å·®
```

#### è¿æ¿æ ‡ç­¾è®¾è®¡

```python
# ä¸ºä»€ä¹ˆéœ€è¦è¿æ¿æ ‡ç­¾ï¼Ÿ
å•æ—¥æ¶¨åœ â†’ å¯èƒ½æ˜¯å°¾ç›˜æ‹‰å‡ï¼ŒæŒç»­æ€§å·®
è¿ç»­æ¶¨åœ â†’ è¯´æ˜æœ‰æŒç»­èµ„é‡‘å…³æ³¨ï¼Œå¼ºåº¦å¤§

# æ ‡ç­¾å®šä¹‰
consecutive_limitup = (today_limitup) & (tomorrow_limitup)
```

### ç‰¹å¾å·¥ç¨‹

#### Alpha158ç‰¹å¾è¯´æ˜

```yaml
Alpha158åŒ…å«158ä¸ªç‰¹å¾:
- KBAR: Kçº¿å½¢æ€ (20ä¸ª)
- PRICE: ä»·æ ¼ç‰¹å¾ (20ä¸ª)
- VOLUME: æˆäº¤é‡ç‰¹å¾ (20ä¸ª)
- ROLLING: æ»šåŠ¨ç»Ÿè®¡ (40ä¸ª)
- RETURN: æ”¶ç›Šç‡ (30ä¸ª)
- MA: ç§»åŠ¨å¹³å‡ (18ä¸ª)
- STD: æ ‡å‡†å·® (10ä¸ª)
```

#### Alpha360ç‰¹å¾è¯´æ˜

```yaml
Alpha360 = Alpha158 + é¢å¤–202ä¸ª:
- æ›´å¤šæ—¶é—´çª—å£ (5/10/20/30/60æ—¥)
- é‡ä»·å…³ç³» (æ¢æ‰‹ç‡ã€æŒ¯å¹…ç­‰)
- æŠ€æœ¯æŒ‡æ ‡ (MACDã€RSIã€KDJç­‰)
- å¸‚åœºå¾®è§‚ç»“æ„
```

### æ¨¡å‹é€‰æ‹©åŸç†

#### ä¸ºä»€ä¹ˆé€‰LightGBMï¼Ÿ

- âœ… è®­ç»ƒå¿«é€Ÿï¼ˆæ¢¯åº¦æå‡ï¼‰
- âœ… å†…å­˜å ç”¨å°
- âœ… å¤„ç†ç±»åˆ«ç‰¹å¾å¥½
- âœ… é˜²è¿‡æ‹Ÿåˆèƒ½åŠ›å¼º
- â­ **é€‚åˆé«˜é¢‘äº¤æ˜“ç­–ç•¥**

#### ä¸ºä»€ä¹ˆé€‰XGBooståšæ’åºï¼Ÿ

- âœ… æ”¯æŒ`rank:pairwise`ç›®æ ‡
- âœ… æ’åºæ•ˆæœä¼˜ç§€
- âœ… å¯è§£é‡Šæ€§å¥½
- â­ **ä¸šç•Œæ’åºæ¨¡å‹é¦–é€‰**

#### ä¸ºä»€ä¹ˆé€‰CatBoostï¼Ÿ

- âœ… GPUåŠ é€Ÿæ˜æ˜¾
- âœ… ç±»åˆ«ç‰¹å¾å¤„ç†æœ€ä¼˜
- âœ… é»˜è®¤å‚æ•°å³å¯æœ‰å¥½æ•ˆæœ
- â­ **é€‚åˆå¤æ‚æ¡ä»¶ç­›é€‰**

#### ä¸ºä»€ä¹ˆé€‰ALSTMï¼Ÿ

- âœ… æ—¶åºå»ºæ¨¡èƒ½åŠ›å¼º
- âœ… Attentionæœºåˆ¶æ•æ‰å…³é”®æ—¶ç‚¹
- âœ… å¯¹æ—¶æœºåˆ¤æ–­æ›´æ•æ„Ÿ
- â­ **é€‚åˆæ‰“æ¿æ—¶æœºé¢„æµ‹**

---

## ğŸ“ˆ å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šæ–°æ‰‹å…¥é—¨

**èƒŒæ™¯**: åˆšæ¥è§¦ä¸€è¿›äºŒç­–ç•¥ï¼Œä¸çŸ¥é“é€‰å“ªä¸ªæ¨¡æ¿

**æ–¹æ¡ˆ**:
1. é€‰æ‹©"ä¸€è¿›äºŒç»¼åˆç­–ç•¥"
2. ä½¿ç”¨é»˜è®¤å‚æ•°
3. å›æµ‹3å¹´æ•°æ®
4. è§‚å¯Ÿä»¥ä¸‹æŒ‡æ ‡ï¼š
   - å¹´åŒ–æ”¶ç›Š > 15%ï¼Ÿ
   - æœ€å¤§å›æ’¤ < 25%ï¼Ÿ
   - æœˆèƒœç‡ > 50%ï¼Ÿ
5. æ»¡è¶³æ¡ä»¶â†’å°èµ„é‡‘å®ç›˜ï¼›ä¸æ»¡è¶³â†’è°ƒå‚æˆ–æ”¾å¼ƒ

### æ¡ˆä¾‹2ï¼šä¼˜åŒ–æ’åºæ¨¡å‹

**èƒŒæ™¯**: ç»¼åˆç­–ç•¥æ•ˆæœä¸é”™ï¼Œæƒ³è¿›ä¸€æ­¥æå‡é€‰è‚¡ç²¾åº¦

**æ–¹æ¡ˆ**:
1. ä½¿ç”¨"æ¶¨åœæ¿æ’åºæ¨¡å‹"
2. è°ƒæ•´å‚æ•°ï¼š
   ```yaml
   topk: 30           # ä»50é™åˆ°30
   eval_metric: ndcg@30  # è¯„ä¼°æŒ‡æ ‡å¯¹é½
   learning_rate: 0.03   # é™ä½å­¦ä¹ ç‡
   ```
3. å›æµ‹å¯¹æ¯”ï¼š
   - ICæå‡ï¼Ÿ
   - RankICæå‡ï¼Ÿ
   - Top 10è‚¡ç¥¨æ¶¨å¹…æ›´é«˜ï¼Ÿ
4. é€šè¿‡A/Bæµ‹è¯•éªŒè¯

### æ¡ˆä¾‹3ï¼šæ•æ‰è¿æ¿é¾™å¤´

**èƒŒæ™¯**: è¿½æ±‚é«˜æ”¶ç›Šï¼Œæ„¿æ„æ‰¿æ‹…é«˜é£é™©

**æ–¹æ¡ˆ**:
1. ä½¿ç”¨"è¿æ¿é¢„æµ‹æ¨¡å‹"
2. æ¿€è¿›å‚æ•°ï¼š
   ```yaml
   instruments: csi1000  # å°ç›˜è‚¡
   topk: 10             # ä»…10åª
   n_drop: 0
   ```
3. ä¸¥æ ¼æ­¢æŸï¼š
   - å•ç¥¨äºæŸ-3%ç«‹å³æ­¢æŸ
   - æ—¥å†…ä¸æ¶¨åœå³å–å‡º
4. é…åˆ"æ‰“æ¿æ—¶æœºæ¨¡å‹"ä¼˜åŒ–å…¥åœºç‚¹

### æ¡ˆä¾‹4ï¼šç†Šå¸‚è‡ªé€‚åº”

**èƒŒæ™¯**: ç‰›å¸‚ç­–ç•¥åœ¨ç†Šå¸‚å¤±æ•ˆ

**æ–¹æ¡ˆ**:
1. ç¼©çŸ­è®­ç»ƒå‘¨æœŸï¼š
   ```yaml
   train: [2022-01-01, 2023-06-30]  # ä»…ä½¿ç”¨è¿‘æœŸæ•°æ®
   ```
2. é™ä½æŒä»“ï¼š
   ```yaml
   topk: 15            # ä»40é™åˆ°15
   n_drop: 5           # æ’é™¤åº•éƒ¨
   ```
3. æé«˜è´¨é‡é˜ˆå€¼ï¼š
   ```yaml
   hold_thresh: 0.05   # ä»0.03æé«˜åˆ°0.05
   ```
4. å®šæœŸé‡æ–°è®­ç»ƒï¼ˆæ¯æœˆä¸€æ¬¡ï¼‰

---

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### Q1: å›æµ‹æ”¶ç›Šä¸ºè´Ÿ

**å¯èƒ½åŸå› **:
- æ•°æ®è´¨é‡é—®é¢˜ï¼ˆç¼ºå¤±ã€é”™è¯¯ï¼‰
- æ ‡ç­¾å®šä¹‰ä¸åˆç†
- å‚æ•°è¿‡æ‹Ÿåˆ
- å¸‚åœºç¯å¢ƒå‰§å˜

**è§£å†³æ–¹æ³•**:
```python
# 1. æ£€æŸ¥æ•°æ®
print(df.isnull().sum())

# 2. æ£€æŸ¥æ ‡ç­¾åˆ†å¸ƒ
print(y_train.value_counts())

# 3. é™ä½æ¨¡å‹å¤æ‚åº¦
num_leaves: 31  # ä»63é™åˆ°31
max_depth: 5    # ä»8é™åˆ°5

# 4. ä½¿ç”¨è¿‘æœŸæ•°æ®
train: [2022-01-01, 2023-12-31]
```

#### Q2: è®­ç»ƒæ—¶é—´è¿‡é•¿

**å¯èƒ½åŸå› **:
- æ•°æ®é‡å¤ªå¤§
- æ¨¡å‹å¤ªå¤æ‚
- GPUæœªå¯ç”¨

**è§£å†³æ–¹æ³•**:
```yaml
# 1. å‡å°‘æ•°æ®
instruments: csi300  # ä»csi1000æ”¹ä¸ºcsi300

# 2. ç®€åŒ–æ¨¡å‹
num_leaves: 31       # é™ä½å¤æ‚åº¦
max_depth: 5

# 3. å¯ç”¨GPUï¼ˆCatBoost/ALSTMï¼‰
task_type: GPU
devices: 0

# 4. å‡å°‘epochï¼ˆæ·±åº¦å­¦ä¹ ï¼‰
n_epochs: 100        # ä»150é™åˆ°100
```

#### Q3: ä¿¡å·æ•°é‡è¿‡å°‘

**å¯èƒ½åŸå› **:
- topkè®¾ç½®å¤ªå°
- é˜ˆå€¼å¤ªé«˜
- æ ‡ç­¾å¤ªä¸¥æ ¼

**è§£å†³æ–¹æ³•**:
```yaml
# 1. å¢åŠ topk
topk: 50             # ä»20æé«˜åˆ°50

# 2. é™ä½é˜ˆå€¼
hold_thresh: 0.02    # ä»0.05é™åˆ°0.02

# 3. æ”¾å®½æ ‡ç­¾ï¼ˆç»¼åˆç­–ç•¥å·²ç»è¿™æ ·åšï¼‰
label: "Ref($close, -1) / $close - 1 > 0.05"  # ä»9.5%é™åˆ°5%
```

#### Q4: è¿‡æ‹Ÿåˆä¸¥é‡

**è¡¨ç°**: è®­ç»ƒé›†æ•ˆæœå¥½ï¼ŒéªŒè¯é›†/æµ‹è¯•é›†å·®

**è§£å†³æ–¹æ³•**:
```yaml
# 1. æ­£åˆ™åŒ–
lambda_l1: 0.1
lambda_l2: 0.1

# 2. æ•°æ®å¢å¼º
bagging_fraction: 0.8
feature_fraction: 0.8

# 3. æå‰åœæ­¢
early_stopping_rounds: 50

# 4. å‡å°‘å¤æ‚åº¦
num_leaves: 31       # é™ä½
max_depth: 5
```

---

## ğŸ“š å»¶ä¼¸é˜…è¯»

### ç›¸å…³æ–‡æ¡£

- ğŸ“„ [Qlibå®˜æ–¹æ–‡æ¡£](https://qlib.readthedocs.io/)
- ğŸ“„ [Alpha158å› å­è¯´æ˜](https://github.com/microsoft/qlib/blob/main/qlib/contrib/data/handler.py)
- ğŸ“„ [TopkDropoutStrategyç­–ç•¥](https://qlib.readthedocs.io/en/latest/component/strategy.html)

### å­¦ä¹ èµ„æº

- ğŸ“– ã€Šé‡åŒ–äº¤æ˜“ï¼šç­–ç•¥ä¸æŠ€æœ¯ã€‹
- ğŸ“– ã€Šæœºå™¨å­¦ä¹ åœ¨é‡åŒ–æŠ•èµ„ä¸­çš„åº”ç”¨ã€‹
- ğŸ¥ Qlibå®˜æ–¹æ•™ç¨‹è§†é¢‘
- ğŸ¥ ä¸€è¿›äºŒç­–ç•¥å®æˆ˜åˆ†äº«

### ç›¸å…³æ¨¡æ¿

- ğŸ”— [æœºå™¨å­¦ä¹ æ¨¡æ¿æ–‡æ¡£](./ML_Templates.md)
- ğŸ”— [æ·±åº¦å­¦ä¹ æ¨¡æ¿æ–‡æ¡£](./P2-E3_DeepLearning_Templates.md)
- ğŸ”— [å®éªŒå¯¹æ¯”åŠŸèƒ½æ–‡æ¡£](./P2-2_Experiment_Comparison.md)

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0 (2024)

- âœ… åˆ›å»º5ä¸ªä¸€è¿›äºŒä¸“ç”¨æ¨¡æ¿
- âœ… å®ŒæˆUIé›†æˆ
- âœ… ç¼–å†™å®Œæ•´æ–‡æ¡£

### æœªæ¥è®¡åˆ’

- ğŸ”² æ·»åŠ å®ç›˜äº¤æ˜“æ¡ˆä¾‹
- ğŸ”² é›†æˆå®æ—¶ç›‘æ§é¢æ¿
- ğŸ”² å¼€å‘æ¨¡æ¿è‡ªåŠ¨è°ƒå‚åŠŸèƒ½
- ğŸ”² å¢åŠ é£é™©ç®¡ç†æ¨¡å—

---

## ğŸ“ æ”¯æŒä¸åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
- ğŸ“§ æäº¤Issue
- ğŸ’¬ åŠ å…¥è®¨è®ºç»„
- ğŸ“± è”ç³»æŠ€æœ¯æ”¯æŒ

## ğŸ†• æ–°å¢é«˜çº§æ¨¡æ¿ï¼ˆv1.1ï¼‰

### 6ï¸âƒ£ è¡Œä¸š/æ¦‚å¿µå›¾æ³¨æ„åŠ› GATsï¼ˆè¿æ¿æ‰©æ•£ï¼‰
- æ–‡ä»¶ï¼š`limitup_gats.yaml`
- äº®ç‚¹ï¼šåˆ©ç”¨è¡Œä¸š/æ¦‚å¿µ/é¾™è™æ¦œå…³ç³»å›¾ï¼Œå›¾æ³¨æ„åŠ›èšåˆæƒ…ç»ªä¸ä¸»çº¿æ‰©æ•£ä¿¡æ¯ï¼›å°ç›˜è¿æ¿é¾™å¤´æ›´æ•æ„Ÿ
- æ¨èï¼š`instruments: csi1000`ï¼Œ`topk: 15`
- æ ‡ç­¾ï¼šä»Šæ—¥æ¶¨åœ AND æ˜æ—¥æ¶¨åœ

ç¤ºä¾‹é…ç½®ç‰‡æ®µï¼š
```yaml
model: {class: GATsModel, module_path: qlib.contrib.model.pytorch_gats}
dataset.handler: {class: Alpha158, kwargs: {instruments: csi1000, label: "($close / Ref($close, 1) - 1 > 0.095) & (Ref($close, -1) / $close - 1 > 0.095)"}}
```

### 7ï¸âƒ£ SFMäº¤äº’å¢å¼ºåˆ†ç±»ï¼ˆæç«¯ä¸å¹³è¡¡ç¨³å¥å™¨ï¼‰
- æ–‡ä»¶ï¼š`limitup_sfm.yaml`
- äº®ç‚¹ï¼šç‰¹å¾Ã—ç‰¹å¾äº¤äº’ï¼ˆå¦‚å°å•Ã—æ¢æ‰‹ã€å¼€æ¿Ã—æŒ¯å¹…ï¼‰ï¼Œå¯¹å°æ¦‚ç‡æ­£æ ·æœ¬æ›´ç¨³å¥ï¼›PR-AUCå‹å¥½
- æ¨èï¼š`instruments: csi500`ï¼Œ`topk: 35`
- æ ‡ç­¾ï¼šæ˜æ—¥æ¶¨åœ

ç¤ºä¾‹é…ç½®ç‰‡æ®µï¼š
```yaml
model: {class: SFM, module_path: qlib.contrib.model.pytorch_sfm}
dataset.handler: {class: Alpha360, kwargs: {instruments: csi500, label: "Ref($close, -1) / $close - 1 > 0.095"}}
```

### 8ï¸âƒ£ å¤šåˆ†è¾¨ç‡TCNæ—¶åºï¼ˆå½¢æ€/ä¸¤æ—¥éªŒè¯ï¼‰
- æ–‡ä»¶ï¼š`limitup_tcn.yaml`
- äº®ç‚¹ï¼šå¤šå°ºåº¦å·ç§¯è¯†åˆ«æ¿å‰é¢„çƒ­ã€å›å°èŠ‚å¥ï¼›æ¨ç†å¿«ï¼Œé€‚åˆé«˜é¢‘è¿­ä»£ï¼›è¡¥è¶³ALSTMåœ¨å±€éƒ¨å½¢æ€çš„å¼±ç‚¹
- æ¨èï¼š`instruments: csi300`ï¼Œ`topk: 25`
- æ ‡ç­¾ï¼šT+1æ¶¨åœ AND T+2ç»­å¼º

ç¤ºä¾‹é…ç½®ç‰‡æ®µï¼š
```yaml
model: {class: TCNModel, module_path: qlib.contrib.model.pytorch_tcn}
dataset.handler: {class: Alpha158, kwargs: {instruments: csi300, label: "(Ref($close, -1) / $close - 1 > 0.095) & (Ref($close, -2) / Ref($close, -1) - 1 > 0)"}}
```

---

**ç¥äº¤æ˜“é¡ºåˆ©ï¼** ğŸš€
