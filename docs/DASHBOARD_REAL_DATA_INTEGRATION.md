# Dashboard å®é™…æ•°æ®é›†æˆå®Œæˆ

## ğŸ“‹ ä»»åŠ¡å®Œæˆæƒ…å†µ

å·²å°† Dashboard å·¦ä¾§å¯¼èˆªæ çš„ 3 ä¸ªæ¨¡æ‹Ÿè‚¡ç¥¨æ›¿æ¢ä¸ºå®é™…çš„å½“æ—¥æœ€å¼ºåŠ¿æ¶¨åœè‚¡æ•°æ®ã€‚

## âœ… å®ç°æ–¹å¼

é‡‡ç”¨**æœ€ç®€æ´é«˜æ•ˆ**çš„æ–¹æ¡ˆï¼Œæ— éœ€æ–°å»ºå¤§é‡æ–‡æ¡£å’Œä»£ç ï¼Œç›´æ¥å¤ç”¨ç°æœ‰ç³»ç»Ÿï¼š

### 1. æ ¸å¿ƒç»„ä»¶

#### å·²å­˜åœ¨çš„ç­›é€‰å™¨
- **ä½ç½®**: `app/enhanced_limitup_selector.py`
- **åŠŸèƒ½**: å¼ºå¤§çš„æ¶¨åœè‚¡ç­›é€‰å’Œè¯„åˆ†ç³»ç»Ÿ
  - è®¡ç®—è´¨é‡è¯„åˆ†ï¼ˆ0-100åˆ†ï¼‰
  - è®¡ç®—ç½®ä¿¡åº¦ï¼ˆ0-1ï¼‰
  - å¤šç»´åº¦è¿‡æ»¤ï¼ˆæ¶¨åœæ—¶é—´ã€å¼€æ¿æ¬¡æ•°ã€å°å•å¼ºåº¦ç­‰ï¼‰
  - å¸‚åœºæ‹©æ—¶æ£€æŸ¥

#### æ–°å¢ç­›é€‰è„šæœ¬
- **ä½ç½®**: `scripts/daily_limitup_selector.py` (ä»… 160 è¡Œ)
- **åŠŸèƒ½**: 
  - è·å–å½“æ—¥æ¶¨åœè‚¡æ•°æ®
  - è°ƒç”¨ç­›é€‰å™¨è®¡ç®—è¯„åˆ†
  - ä¿å­˜ç»“æœåˆ° JSON æ–‡ä»¶
  - æ˜¾ç¤ºå‰ 3 åªæœ€å¼ºåŠ¿è‚¡ç¥¨

#### Dashboard é›†æˆ
- **ä¿®æ”¹**: `web/unified_dashboard.py` (ä»…æ–°å¢ 35 è¡Œä»£ç )
- **åŠŸèƒ½**:
  - `_get_top_limitup_stocks()`: ä»æ–‡ä»¶/Redis è¯»å–ç­›é€‰ç»“æœ
  - åˆå§‹åŒ–æ—¶è‡ªåŠ¨åŠ è½½
  - "åˆ·æ–°æ•°æ®"æŒ‰é’®æ›´æ–°è‚¡ç¥¨åˆ—è¡¨

### 2. æ•°æ®æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤ 1: æ¯æ—¥ç­›é€‰ (æ‰‹åŠ¨æˆ–å®šæ—¶ä»»åŠ¡)                        â”‚
â”‚  python scripts/daily_limitup_selector.py               â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ æ¶¨åœè‚¡æ•°æ®æº  â”‚ => â”‚ ç­›é€‰å™¨ + è¯„åˆ†   â”‚               â”‚
â”‚  â”‚ (AKShare/    â”‚    â”‚ EnhancedLimitUp â”‚               â”‚
â”‚  â”‚  Tushare)    â”‚    â”‚ Selector        â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚          â†“                     â†“                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ data/daily_selections/               â”‚               â”‚
â”‚  â”‚   limitup_20251107.json              â”‚               â”‚
â”‚  â”‚   {                                  â”‚               â”‚
â”‚  â”‚     "stocks": [                      â”‚               â”‚
â”‚  â”‚       {"symbol": "000858",           â”‚               â”‚
â”‚  â”‚        "quality_score": 82.0,        â”‚               â”‚
â”‚  â”‚        "confidence": 0.73, ...}      â”‚               â”‚
â”‚  â”‚     ]                                â”‚               â”‚
â”‚  â”‚   }                                  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤ 2: Dashboard åŠ è½½                                  â”‚
â”‚  streamlit run web/unified_dashboard.py                 â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ UnifiedDashboard.__init__()          â”‚               â”‚
â”‚  â”‚   â†“                                  â”‚               â”‚
â”‚  â”‚ _get_top_limitup_stocks()            â”‚               â”‚
â”‚  â”‚   â†“                                  â”‚               â”‚
â”‚  â”‚ è¯»å–æœ€æ–° JSON æ–‡ä»¶                    â”‚               â”‚
â”‚  â”‚   â†“                                  â”‚               â”‚
â”‚  â”‚ æŒ‰è´¨é‡è¯„åˆ†æ’åº                        â”‚               â”‚
â”‚  â”‚   â†“                                  â”‚               â”‚
â”‚  â”‚ è¿”å›å‰ 3 åª: ['000858','300750',...] â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                        â†“                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ å·¦ä¾§å¯¼èˆªæ æ˜¾ç¤º                        â”‚               â”‚
â”‚  â”‚ âœ“ 000858 - è´¨é‡è¯„åˆ†: 82.0           â”‚               â”‚
â”‚  â”‚ âœ“ 300750 - è´¨é‡è¯„åˆ†: 79.0           â”‚               â”‚
â”‚  â”‚ âœ“ 000001 - è´¨é‡è¯„åˆ†: 71.0           â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ è¯„åˆ†æ ‡å‡†

### è´¨é‡è¯„åˆ† (0-100åˆ†)

| ç»´åº¦ | æƒé‡ | æ ‡å‡† |
|------|------|------|
| æ¶¨åœæ—¶é—´ | 25åˆ† | 09:30-10:00: 25åˆ†<br>10:00-11:30: 20åˆ†<br>13:00-14:00: 15åˆ†<br>14:00å: 5åˆ† |
| å°å•å¼ºåº¦ | 25åˆ† | >20%: 25åˆ†<br>10-20%: 20åˆ†<br>5-10%: 15åˆ†<br>3-5%: 10åˆ† |
| å¼€æ¿æ¬¡æ•° | 20åˆ† | 0æ¬¡: 20åˆ†<br>1æ¬¡: 10åˆ†<br>2æ¬¡: 5åˆ†<br>>2æ¬¡: å‰”é™¤ |
| æ¢æ‰‹ç‡ | 10åˆ† | 10-20%: 10åˆ†<br>5-10%: 8åˆ†<br><5% æˆ– >30%: 5åˆ† |
| æ¿å—çƒ­åº¦ | 10åˆ† | â‰¥10åª: 10åˆ†<br>5-10åª: 8åˆ†<br>3-5åª: 5åˆ†<br>1-3åª: 3åˆ† |
| è¿æ¿å¤©æ•° | 10åˆ† | â‰¥5è¿æ¿: 10åˆ†<br>3-4è¿æ¿: 8åˆ†<br>2è¿æ¿: 6åˆ†<br>é¦–æ¿: 3åˆ† |

### ç½®ä¿¡åº¦ (0-1)

- **æ”¶ç›˜æ¥è¿‘åº¦** (40%): æ”¶ç›˜ä»·è¶Šæ¥è¿‘æœ€é«˜ä»·è¶Šå¼º
- **VWAPæ–œç‡** (30%): æ—©ç›˜ VWAP æ­£æ–œç‡è¶Šå¤§è¶Šå¥½
- **æ¿å—çƒ­åº¦** (30%): æ¿å—æ¶¨åœæ•°è¶Šå¤šè¶Šå¥½

## ğŸ“Š ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨è¿è¡Œï¼ˆæµ‹è¯•ï¼‰

```bash
# 1. ç”Ÿæˆå½“æ—¥ç­›é€‰æ•°æ®
python scripts/daily_limitup_selector.py

# è¾“å‡º:
# ============================================================
# ä»Šæ—¥æœ€å¼ºåŠ¿å‰3åªæ¶¨åœè‚¡:
# ============================================================
# 1. 000858 - è‚¡ç¥¨000858
#    è´¨é‡è¯„åˆ†: 82.0
#    ç½®ä¿¡åº¦: 73.26%
#    ...

# 2. å¯åŠ¨ Dashboard
streamlit run web/unified_dashboard.py

# å·¦ä¾§å¯¼èˆªæ å°†æ˜¾ç¤ºå®é™…æ•°æ®
```

### æ–¹å¼äºŒï¼šå®šæ—¶ä»»åŠ¡ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

**Windows ä»»åŠ¡è®¡åˆ’ç¨‹åºï¼š**

```powershell
# æ¯æ—¥ 15:30 æ”¶ç›˜åè‡ªåŠ¨è¿è¡Œ
$action = New-ScheduledTaskAction -Execute "python" `
    -Argument "G:\test\qilin_stack\scripts\daily_limitup_selector.py" `
    -WorkingDirectory "G:\test\qilin_stack"
$trigger = New-ScheduledTaskTrigger -Daily -At 15:30
Register-ScheduledTask -TaskName "DailyLimitUpSelector" `
    -Action $action -Trigger $trigger
```

**Linux/Mac crontabï¼š**

```bash
# æ¯ä¸ªäº¤æ˜“æ—¥ 15:30 è¿è¡Œ
30 15 * * 1-5 cd /path/to/qilin_stack && python scripts/daily_limitup_selector.py
```

### æ–¹å¼ä¸‰ï¼šDashboard æ‰‹åŠ¨åˆ·æ–°

åœ¨ Dashboard å·¦ä¾§ç‚¹å‡» **"ğŸ”„ åˆ·æ–°æ•°æ®"** æŒ‰é’®ï¼Œä¼šè‡ªåŠ¨æ›´æ–°è‚¡ç¥¨åˆ—è¡¨ã€‚

## ğŸ”Œ æ¥å…¥å®é™…æ•°æ®æº

å½“å‰ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ã€‚è¦æ¥å…¥å®é™…æ•°æ®ï¼Œä¿®æ”¹ `scripts/daily_limitup_selector.py`ï¼š

### AKShare æ¥å…¥

```python
import akshare as ak

def get_limitup_data_today():
    """ä» AKShare è·å–æ¶¨åœè‚¡æ•°æ®"""
    df = ak.stock_zt_pool_em(date=datetime.now().strftime('%Y%m%d'))
    
    stocks = []
    for _, row in df.iterrows():
        stocks.append(LimitUpStock(
            symbol=row['ä»£ç '],
            name=row['åç§°'],
            limit_up_time=row['é¦–æ¬¡æ¶¨åœæ—¶é—´'],
            open_times=row['æ¶¨åœç»Ÿè®¡']['å¼€æ¿æ¬¡æ•°'],
            seal_ratio=row['å°å•é‡‘é¢'] / row['æµé€šå¸‚å€¼'] if row['æµé€šå¸‚å€¼'] > 0 else 0,
            # ... å…¶ä»–å­—æ®µæ˜ å°„
        ))
    return stocks
```

### Tushare æ¥å…¥

```python
import tushare as ts

def get_limitup_data_today():
    """ä» Tushare è·å–æ¶¨åœè‚¡æ•°æ®"""
    pro = ts.pro_api('YOUR_TOKEN')
    df = pro.limit_list(
        trade_date=datetime.now().strftime('%Y%m%d'),
        limit_type='U'  # U=æ¶¨åœ
    )
    # è½¬æ¢æ•°æ®...
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
qilin_stack/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ daily_limitup_selector.py     # ç­›é€‰è„šæœ¬ (æ–°å¢ 160è¡Œ)
â”‚   â””â”€â”€ test_dashboard_stocks.py      # æµ‹è¯•è„šæœ¬ (æ–°å¢ 69è¡Œ)
â”œâ”€â”€ data/
â”‚   â””â”€â”€ daily_selections/
â”‚       â”œâ”€â”€ README.md                  # ä½¿ç”¨è¯´æ˜ (æ–°å¢)
â”‚       â””â”€â”€ limitup_20251107.json     # ç­›é€‰ç»“æœ
â”œâ”€â”€ web/
â”‚   â””â”€â”€ unified_dashboard.py          # Dashboard (ä¿®æ”¹ 35è¡Œ)
â”œâ”€â”€ app/
â”‚   â””â”€â”€ enhanced_limitup_selector.py  # ç­›é€‰å™¨ (å·²å­˜åœ¨)
â””â”€â”€ docs/
    â””â”€â”€ DASHBOARD_REAL_DATA_INTEGRATION.md  # æœ¬æ–‡æ¡£
```

**æ€»ä»£ç é‡**: çº¦ 260 è¡Œ (åŒ…æ‹¬æ³¨é‡Šå’Œæ–‡æ¡£)

## âœ¨ ç‰¹ç‚¹

1. **æç®€å®ç°**: å¤ç”¨ç°æœ‰ç³»ç»Ÿï¼Œåªæ–°å¢æœ€å°‘å¿…è¦ä»£ç 
2. **æ— éœ€æ•°æ®åº“**: ä½¿ç”¨ JSON æ–‡ä»¶ï¼Œç®€å•å¯é 
3. **è‡ªåŠ¨é™çº§**: æ— æ•°æ®æ—¶ä½¿ç”¨é»˜è®¤å€¼ï¼Œä¸å½±å“ç³»ç»Ÿè¿è¡Œ
4. **æ˜“äºæ‰©å±•**: æ”¯æŒ Redis ç¼“å­˜ã€å¤šæ•°æ®æºåˆ‡æ¢
5. **å®Œæ•´è¯„åˆ†**: ç»¼åˆå¤šç»´åº¦æŒ‡æ ‡ï¼Œç§‘å­¦ç­›é€‰å¼ºåŠ¿è‚¡

## ğŸ” éªŒè¯æµ‹è¯•

```bash
# æµ‹è¯•ç­›é€‰åŠŸèƒ½
python scripts/daily_limitup_selector.py

# æµ‹è¯• Dashboard åŠ è½½
python scripts/test_dashboard_stocks.py

# è¾“å‡º:
# âœ“ æ‰¾åˆ°æ•°æ®æ–‡ä»¶: limitup_20251107.json
# âœ“ ç­›é€‰æ—¥æœŸ: 2025-11-07
# âœ“ æ€»æ¶¨åœæ•°: 6
# âœ“ åˆæ ¼æ•°é‡: 5
# å‰ 3 åªæœ€å¼ºåŠ¿è‚¡ç¥¨:
# 1. 000858 - è´¨é‡è¯„åˆ†: 82.0
# 2. 300750 - è´¨é‡è¯„åˆ†: 79.0
# 3. 000001 - è´¨é‡è¯„åˆ†: 71.0
# âœ“ æœ€ç»ˆè¿”å›: ['000858', '300750', '000001']
```

## ğŸ“ åç»­ä¼˜åŒ–å»ºè®®

1. **æ¥å…¥å®æ—¶æ•°æ®æº**: æ›¿æ¢æ¨¡æ‹Ÿæ•°æ®ä¸º AKShare/Tushare
2. **Redis ç¼“å­˜**: æå‡è¯»å–é€Ÿåº¦
3. **å†å²æ•°æ®å¯¹æ¯”**: å±•ç¤ºå‰ä¸€æ—¥æ’åå˜åŒ–
4. **è‚¡ç¥¨è¯¦æƒ…é¡µ**: ç‚¹å‡»è‚¡ç¥¨æ˜¾ç¤ºè¯¦ç»†åˆ†æ
5. **é‚®ä»¶/å¾®ä¿¡é€šçŸ¥**: æ¯æ—¥æ¨é€ç­›é€‰ç»“æœ

## ğŸ‰ å®ŒæˆçŠ¶æ€

âœ… **ä»»åŠ¡å®Œæˆ** - ç”¨æœ€ç®€æ´çš„æ–¹å¼å®ç°äº†å®é™…æ•°æ®æ›¿æ¢ï¼Œæ— éœ€æ–°å»ºå¤§é‡æ–‡æ¡£å’Œä»£ç ï¼
